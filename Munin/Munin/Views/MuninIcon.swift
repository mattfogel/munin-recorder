import SwiftUI

/// Munin raven icon as a SwiftUI Shape
/// Derived from munin_raven_vector_fixed.svg
struct MuninIcon: Shape {
    func path(in rect: CGRect) -> Path {
        // Tight bounds: X 201-827, Y 250.5-760.5
        let minX: CGFloat = 201
        let minY: CGFloat = 250.5
        let sourceWidth: CGFloat = 626  // 827 - 201
        let sourceHeight: CGFloat = 510 // 760.5 - 250.5

        let scale = min(rect.width / sourceWidth, rect.height / sourceHeight)
        let offsetX = (rect.width - sourceWidth * scale) / 2
        let offsetY = (rect.height - sourceHeight * scale) / 2

        var path = Path()

        let points: [(CGFloat, CGFloat)] = [
            (627.0, 760.5), (622.5, 755.0), (614.0, 753.5), (605.0, 754.5), (596.0, 755.5),
            (587.0, 756.5), (578.5, 757.0), (570.0, 755.5), (562.0, 753.5), (555.0, 750.5),
            (547.0, 748.5), (539.0, 746.5), (530.0, 747.5), (521.0, 748.5), (511.0, 748.5),
            (503.0, 746.5), (495.5, 744.0), (487.0, 744.5), (481.5, 748.0), (483.5, 740.0),
            (487.5, 734.0), (493.0, 729.5), (502.0, 728.5), (509.5, 731.0), (517.0, 733.5),
            (525.0, 735.5), (530.5, 731.0), (528.5, 723.0), (525.5, 716.0), (522.0, 709.5),
            (518.5, 703.0), (514.5, 697.0), (510.0, 691.5), (506.0, 685.5), (501.5, 680.0),
            (497.5, 674.0), (495.5, 668.0), (498.5, 661.0), (501.5, 654.0), (503.0, 648.5),
            (493.0, 648.5), (483.0, 648.5), (474.0, 649.5), (465.0, 650.5), (456.0, 651.5),
            (447.0, 652.5), (438.0, 653.5), (429.0, 654.5), (420.0, 655.5), (414.5, 653.0),
            (411.0, 646.5), (403.5, 649.0), (396.5, 652.0), (390.0, 655.5), (383.5, 659.0),
            (377.0, 662.5), (370.5, 666.0), (364.0, 669.5), (357.5, 673.0), (351.0, 676.5),
            (344.5, 680.0), (338.0, 683.5), (331.0, 686.5), (324.5, 690.0), (318.0, 693.5),
            (311.0, 696.5), (304.0, 699.5), (297.5, 703.0), (290.5, 706.0), (283.5, 709.0),
            (276.0, 711.5), (269.0, 714.5), (261.5, 717.0), (254.0, 719.5), (246.0, 721.5),
            (238.0, 723.5), (230.0, 725.5), (221.0, 726.5), (212.0, 727.5), (203.0, 728.5),
            (201.0, 725.5), (206.5, 721.0), (212.0, 716.5), (218.0, 712.5), (223.5, 708.0),
            (229.5, 704.0), (235.0, 699.5), (240.5, 695.0), (246.5, 691.0), (252.0, 686.5),
            (258.0, 682.5), (263.5, 678.0), (269.0, 673.5), (275.0, 669.5), (280.5, 665.0),
            (286.0, 660.5), (292.0, 656.5), (297.5, 652.0), (303.5, 648.0), (309.0, 643.5),
            (314.5, 639.0), (320.5, 635.0), (314.0, 633.5), (305.0, 634.5), (295.0, 634.5),
            (286.0, 635.5), (276.0, 635.5), (267.0, 636.5), (271.0, 633.5), (278.0, 630.5),
            (285.0, 627.5), (292.0, 624.5), (300.0, 622.5), (307.0, 619.5), (315.0, 617.5),
            (322.5, 615.0), (330.0, 612.5), (338.0, 610.5), (346.0, 608.5), (354.0, 606.5),
            (361.5, 604.0), (370.0, 602.5), (378.0, 600.5), (386.0, 598.5), (394.0, 596.5),
            (402.5, 595.0), (411.0, 593.5), (420.0, 592.5), (421.0, 594.5), (416.5, 600.0),
            (411.5, 605.0), (406.5, 610.0), (401.5, 615.0), (401.5, 618.0), (409.0, 615.5),
            (417.0, 613.5), (424.0, 610.5), (432.0, 608.5), (439.0, 605.5), (447.0, 603.5),
            (454.5, 601.0), (462.0, 598.5), (470.0, 596.5), (477.0, 593.5), (485.0, 591.5),
            (492.0, 588.5), (500.0, 586.5), (507.0, 583.5), (515.0, 581.5), (522.0, 578.5),
            (530.0, 576.5), (537.0, 573.5), (545.0, 571.5), (552.5, 569.0), (560.0, 566.5),
            (567.5, 564.0), (575.0, 561.5), (582.5, 559.0), (590.0, 556.5), (597.5, 554.0),
            (605.0, 551.5), (612.0, 548.5), (619.5, 546.0), (627.0, 543.5), (634.0, 540.5),
            (641.0, 537.5), (648.0, 534.5), (655.0, 531.5), (659.5, 526.0), (663.5, 520.0),
            (667.5, 514.0), (671.5, 508.0), (675.5, 502.0), (679.0, 495.5), (682.5, 489.0),
            (685.5, 482.0), (689.0, 475.5), (692.5, 469.0), (695.5, 462.0), (695.5, 452.0),
            (695.0, 442.5), (694.5, 433.0), (693.5, 424.0), (690.5, 417.0), (686.5, 411.0),
            (682.5, 405.0), (678.5, 399.0), (676.5, 406.0), (675.5, 415.0), (674.5, 424.0),
            (673.5, 433.0), (672.5, 442.0), (669.0, 448.5), (663.5, 453.0), (658.0, 457.5),
            (652.5, 462.0), (647.0, 466.5), (641.0, 470.5), (635.0, 474.5), (629.5, 479.0),
            (632.0, 480.5), (641.0, 479.5), (650.0, 478.5), (658.0, 476.5), (662.5, 478.0),
            (659.5, 485.0), (656.5, 492.0), (652.5, 498.0), (649.0, 504.5), (645.5, 511.0),
            (641.5, 517.0), (636.0, 521.5), (629.0, 524.5), (622.0, 527.5), (614.5, 530.0),
            (607.0, 532.5), (600.0, 535.5), (592.0, 537.5), (584.5, 540.0), (577.0, 542.5),
            (569.0, 544.5), (561.5, 547.0), (554.0, 549.5), (546.0, 551.5), (538.0, 553.5),
            (530.0, 555.5), (522.0, 557.5), (514.0, 559.5), (506.5, 562.0), (498.5, 564.0),
            (490.0, 565.5), (482.0, 567.5), (473.5, 569.0), (473.5, 566.0), (478.5, 561.0),
            (483.0, 555.5), (488.0, 550.5), (492.5, 545.0), (497.5, 540.0), (502.0, 534.5),
            (506.5, 529.0), (511.0, 523.5), (511.0, 520.5), (505.5, 525.0), (499.5, 529.0),
            (493.5, 533.0), (487.5, 537.0), (481.5, 541.0), (475.5, 545.0), (469.5, 549.0),
            (463.0, 552.5), (456.5, 556.0), (450.0, 559.5), (443.5, 563.0), (436.0, 565.5),
            (428.0, 567.5), (420.5, 570.0), (413.0, 572.5), (405.0, 574.5), (397.0, 576.5),
            (389.0, 578.5), (381.0, 580.5), (373.5, 583.0), (365.5, 585.0), (358.0, 587.5),
            (350.0, 589.5), (342.0, 591.5), (334.0, 593.5), (326.5, 596.0), (318.5, 598.0),
            (311.0, 600.5), (303.0, 602.5), (305.5, 598.0), (311.0, 593.5), (316.5, 589.0),
            (322.0, 584.5), (327.5, 580.0), (333.0, 575.5), (339.0, 571.5), (344.5, 567.0),
            (350.0, 562.5), (355.5, 558.0), (361.0, 553.5), (367.0, 549.5), (373.0, 545.5),
            (379.0, 541.5), (385.0, 537.5), (391.5, 534.0), (397.5, 530.0), (404.0, 526.5),
            (410.0, 522.5), (416.0, 518.5), (422.5, 515.0), (428.5, 511.0), (434.5, 507.0),
            (440.5, 503.0), (446.5, 499.0), (452.5, 495.0), (458.5, 491.0), (464.0, 486.5),
            (470.0, 482.5), (466.0, 481.5), (459.0, 484.5), (451.5, 487.0), (444.5, 490.0),
            (437.0, 492.5), (430.0, 495.5), (423.0, 498.5), (416.0, 501.5), (409.0, 504.5),
            (401.5, 507.0), (394.0, 509.5), (388.5, 509.0), (393.5, 504.0), (398.5, 499.0),
            (404.0, 494.5), (409.0, 489.5), (414.5, 485.0), (419.5, 480.0), (425.0, 475.5),
            (430.5, 471.0), (435.5, 466.0), (441.0, 461.5), (446.5, 457.0), (452.0, 452.5),
            (457.5, 448.0), (463.0, 443.5), (468.5, 439.0), (474.0, 434.5), (479.5, 430.0),
            (485.0, 425.5), (491.0, 421.5), (496.5, 417.0), (502.0, 412.5), (507.5, 408.0),
            (513.0, 403.5), (519.0, 399.5), (524.5, 395.0), (530.0, 390.5), (536.0, 386.5),
            (541.5, 382.0), (547.0, 377.5), (553.0, 373.5), (558.5, 369.0), (564.5, 365.0),
            (570.0, 360.5), (576.0, 356.5), (581.5, 352.0), (585.5, 346.0), (588.5, 339.0),
            (592.0, 332.5), (595.5, 326.0), (599.0, 319.5), (602.5, 313.0), (606.0, 306.5),
            (610.0, 300.5), (613.5, 294.0), (617.5, 288.0), (621.5, 282.0), (626.0, 276.5),
            (630.5, 271.0), (635.0, 265.5), (641.0, 261.5), (647.5, 258.0), (654.5, 255.0),
            (662.0, 252.5), (670.0, 250.5), (680.0, 250.5), (690.0, 250.5), (699.0, 251.5),
            (708.0, 252.5), (715.0, 255.5), (722.0, 258.5), (728.5, 262.0), (737.0, 263.5),
            (746.0, 264.5), (754.5, 266.0), (763.0, 267.5), (771.0, 269.5), (779.0, 271.5),
            (786.5, 274.0), (794.0, 276.5), (801.0, 279.5), (808.0, 282.5), (814.0, 286.5),
            (820.5, 290.0), (826.5, 294.0), (823.5, 297.0), (815.0, 298.5), (806.0, 299.5),
            (798.0, 301.5), (789.5, 303.0), (781.5, 305.0), (774.0, 307.5), (766.0, 309.5),
            (758.0, 311.5), (751.0, 314.5), (744.0, 317.5), (737.0, 320.5), (732.5, 326.0),
            (732.5, 334.0), (734.5, 342.0), (737.0, 349.5), (739.5, 357.0), (741.5, 365.0),
            (743.5, 373.0), (745.5, 381.0), (747.5, 389.0), (748.5, 398.0), (750.5, 406.0),
            (752.0, 414.5), (753.5, 423.0), (754.5, 432.0), (754.5, 442.0), (752.5, 443.0),
            (748.5, 437.0), (745.0, 430.5), (741.5, 424.0), (737.5, 418.0), (733.5, 415.0),
            (734.5, 424.0), (735.5, 433.0), (735.5, 443.0), (734.5, 452.0), (733.5, 461.0),
            (732.5, 470.0), (731.0, 478.5), (729.0, 486.5), (725.5, 493.0), (722.0, 499.5),
            (718.5, 506.0), (714.5, 512.0), (710.5, 518.0), (706.5, 524.0), (702.5, 530.0),
            (698.0, 535.5), (693.5, 541.0), (689.5, 547.0), (684.5, 552.0), (680.0, 557.5),
            (675.5, 563.0), (670.5, 568.0), (666.0, 573.5), (661.0, 578.5), (656.0, 583.5),
            (651.0, 588.5), (646.5, 594.0), (641.0, 598.5), (636.0, 603.5), (631.0, 608.5),
            (625.5, 613.0), (620.0, 617.5), (615.0, 622.5), (609.5, 627.0), (604.0, 631.5),
            (598.0, 635.5), (592.5, 640.0), (586.5, 644.0), (580.5, 648.0), (580.5, 641.0),
            (582.0, 632.5), (584.5, 625.0), (583.5, 621.0), (578.0, 625.5), (573.0, 630.5),
            (568.0, 635.5), (563.0, 640.5), (558.5, 646.0), (553.5, 651.0), (549.0, 656.5),
            (544.0, 661.5), (539.5, 667.0), (535.0, 672.5), (530.5, 678.0), (531.0, 685.5),
            (533.5, 693.0), (536.5, 700.0), (539.5, 707.0), (542.5, 714.0), (546.5, 720.0),
            (550.5, 726.0), (555.5, 731.0), (560.5, 736.0), (567.0, 739.5), (574.0, 742.5),
            (583.0, 743.5), (592.0, 742.5), (600.0, 740.5), (608.5, 740.0), (615.5, 743.0),
            (622.0, 746.5), (627.0, 751.5), (627.0, 760.5)
        ]

        guard let first = points.first else { return path }

        path.move(to: CGPoint(
            x: (first.0 - minX) * scale + offsetX,
            y: (first.1 - minY) * scale + offsetY
        ))

        for point in points.dropFirst() {
            path.addLine(to: CGPoint(
                x: (point.0 - minX) * scale + offsetX,
                y: (point.1 - minY) * scale + offsetY
            ))
        }

        path.closeSubpath()

        return path
    }
}
